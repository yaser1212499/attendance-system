# سیستم حضور و غیاب هوشمند

## 📋 **معرفی سیستم**

این سیستم یک پلتفرم کامل مدیریت حضور و غیاب است که با دستگاه ZKTeco ادغام شده و قابلیت‌های پیشرفته‌ای برای مدیریت کارمندان، شیفت‌ها، مرخصی‌ها و گزارش‌گیری ارائه می‌دهد.

## 🏗️ **معماری سیستم**

### **Backend (Node.js)**

- **سرور**: Express.js روی پورت 3001
- **دیتابیس**: MySQL
- **اتصال سخت‌افزاری**: ZKTeco SDK
- **API**: RESTful APIs برای تمام عملیات

### **Frontend (HTML/CSS/JavaScript)**

- **فریم‌ورک**: Argon Dashboard
- **طراحی**: RTL برای زبان فارسی
- **آیکون‌ها**: FontAwesome
- **استایل**: Bootstrap 5

## 🗄️ **ساختار دیتابیس**

### **جداول موجود:**

1. **`users`** - اطلاعات کارمندان
2. **`attendances`** - لاگ‌های حضور و غیاب
3. **`shifts`** - تعریف شیفت‌ها
4. **`shift_assignments`** - تخصیص شیفت به کارمندان
5. **`leaves`** - درخواست‌های مرخصی
6. **`notifications`** - اعلان‌های سیستم
7. **`settings`** - تنظیمات سیستم

## 🚀 **ویژگی‌های سیستم**

### **1. داشبورد اصلی**

- نمایش آمار کلی حضور و غیاب
- نمودارهای تحلیلی
- آخرین فعالیت‌ها
- وضعیت دستگاه

### **2. مدیریت کارمندان**

- افزودن/ویرایش/حذف کارمندان
- همگام‌سازی با دستگاه ZKTeco
- مدیریت اطلاعات شخصی
- تخصیص نقش‌ها

### **3. مدیریت شیفت‌ها**

- تعریف شیفت‌های کاری
- تخصیص شیفت به کارمندان
- محاسبه ساعات کاری
- رنگ‌بندی شیفت‌ها

### **4. مدیریت مرخصی‌ها**

- ثبت درخواست مرخصی
- بررسی و تایید/رد درخواست‌ها
- انواع مختلف مرخصی
- پیگیری وضعیت

### **5. سیستم اعلان‌ها**

- ارسال اعلان‌های عمومی و خصوصی
- انواع مختلف اعلان (اطلاعاتی، هشدار، خطا، موفقیت)
- علامت‌گذاری خوانده شده
- مدیریت اعلان‌ها

### **6. گزارش‌گیری**

- گزارش حضور و غیاب
- فیلتر بر اساس تاریخ و کارمند
- صادرات داده‌ها
- آمار تحلیلی

### **7. تنظیمات سیستم**

- تنظیمات ساعات کاری
- مدیریت تعطیلات رسمی
- تنظیمات دستگاه
- پیکربندی سیستم

## 🔧 **نصب و راه‌اندازی**

### **پیش‌نیازها:**

- Node.js (نسخه 14 یا بالاتر)
- MySQL (نسخه 5.7 یا بالاتر)
- XAMPP (برای محیط توسعه)

### **مراحل نصب:**

1. **کلون کردن پروژه:**

```bash
git clone [repository-url]
cd finger
```

2. **نصب وابستگی‌ها:**

```bash
npm install
```

3. **تنظیم دیتابیس:**

- MySQL را راه‌اندازی کنید
- دیتابیس جدید ایجاد کنید
- تنظیمات اتصال را در `server.cjs` ویرایش کنید

4. **راه‌اندازی سرور:**

```bash
node server.cjs
```

5. **دسترسی به سیستم:**

- مرورگر را باز کنید
- به آدرس `http://localhost/finger/pages/dashboard.html` بروید

## 📡 **API Endpoints**

### **کارمندان:**

- `GET /api/data` - دریافت تمام داده‌ها
- `POST /api/sync-users` - همگام‌سازی کارمندان
- `POST /api/sync-attendance` - همگام‌سازی حضور و غیاب

### **شیفت‌ها:**

- `GET /api/shifts` - دریافت شیفت‌ها
- `POST /api/shifts` - ایجاد شیفت جدید
- `DELETE /api/shifts/:id` - حذف شیفت
- `GET /api/shift-assignments` - دریافت تخصیص‌ها
- `POST /api/shift-assignments` - تخصیص شیفت
- `DELETE /api/shift-assignments/:id` - حذف تخصیص

### **مرخصی‌ها:**

- `GET /api/leaves` - دریافت درخواست‌های مرخصی
- `POST /api/leaves` - ثبت درخواست مرخصی
- `PUT /api/leaves/:id/review` - بررسی درخواست
- `DELETE /api/leaves/:id` - حذف درخواست

### **اعلان‌ها:**

- `GET /api/notifications` - دریافت اعلان‌ها
- `POST /api/notifications` - ایجاد اعلان
- `PUT /api/notifications/:id/read` - علامت‌گذاری خوانده شده
- `DELETE /api/notifications/:id` - حذف اعلان

### **تنظیمات:**

- `GET /api/settings` - دریافت تنظیمات
- `POST /api/settings` - ذخیره تنظیمات
- `DELETE /api/settings/:key` - حذف تنظیمات

## 🎨 **ویژگی‌های طراحی**

### **رابط کاربری:**

- طراحی RTL برای زبان فارسی
- رنگ‌بندی حرفه‌ای و یکپارچه
- آیکون‌های FontAwesome
- انیمیشن‌های نرم
- طراحی ریسپانسیو

### **تجربه کاربری:**

- ناوبری آسان
- فرم‌های کاربرپسند
- پیام‌های تأیید و خطا
- بارگذاری آسنکرون
- فیلتر و جستجو

## 🔒 **امنیت**

### **میزان امنیت فعلی:**

- ✅ اتصال امن به دیتابیس
- ✅ اعتبارسنجی ورودی‌ها
- ✅ مدیریت خطاها
- ⚠️ نیاز به احراز هویت (در حال توسعه)
- ⚠️ نیاز به رمزگذاری (در حال توسعه)

## 📊 **وضعیت فعلی سیستم**

### **✅ تکمیل شده:**

- [x] ساختار دیتابیس کامل
- [x] API های اصلی
- [x] رابط کاربری تمام صفحات
- [x] اتصال به دستگاه ZKTeco
- [x] مدیریت کارمندان
- [x] مدیریت شیفت‌ها
- [x] مدیریت مرخصی‌ها
- [x] سیستم اعلان‌ها
- [x] تنظیمات سیستم
- [x] گزارش‌گیری

### **🔄 در حال توسعه:**

- [ ] سیستم احراز هویت
- [ ] رمزگذاری داده‌ها
- [ ] پشتیبان‌گیری خودکار
- [ ] API های پیشرفته
- [ ] اپلیکیشن موبایل

### **📋 نیاز به تکمیل:**

- [ ] تست‌های جامع
- [ ] مستندات API
- [ ] راهنمای کاربر
- [ ] بهینه‌سازی عملکرد
- [ ] پشتیبانی چندزبانه

## 🤝 **مشارکت**

برای مشارکت در توسعه این پروژه:

1. Fork کنید
2. Branch جدید ایجاد کنید
3. تغییرات را Commit کنید
4. Pull Request ارسال کنید

## 📞 **پشتیبانی**

برای دریافت پشتیبانی یا گزارش مشکل:

- ایمیل: [your-email@domain.com]
- GitHub Issues: [repository-issues-url]

## 📄 **لایسنس**

این پروژه تحت لایسنس MIT منتشر شده است.

---

**توسعه‌دهنده:** [نام شما]
**نسخه:** 1.0.0
**تاریخ آخرین بروزرسانی:** [تاریخ]
