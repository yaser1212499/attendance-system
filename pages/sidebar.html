<aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3" id="sidenav-main">
  <!-- Sidebar Header -->
  <div class="sidenav-header">
    <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute start-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
    <a class="navbar-brand m-0" href="dashboard.html">
      <span class="font-weight-bold text-primary">سیستم حضور و غیاب</span>
    </a>
  </div>
  
  <hr class="horizontal dark mt-0">
  
  <!-- User Profile Section -->
  <div class="user-profile-section px-3 py-2 mb-3">
    <div class="d-flex align-items-center">
      <div class="user-avatar me-3">
        <i class="fas fa-user"></i>
      </div>
      <div class="user-info">
        <h6 class="mb-0 text-dark">کاربر سیستم</h6>
        <small class="text-muted">مدیر</small>
      </div>
    </div>
  </div>
  
  <!-- Navigation Menu -->
  <div class="collapse navbar-collapse w-auto h-auto" id="sidenav-collapse-main">
    <ul class="navbar-nav">
      <!-- Dashboard -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="dashboard.html" data-page="dashboard">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-tachometer-alt" style="color: #17a2b8 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">داشبورد</span>
        </a>
      </li>
      <!-- Profile -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="profile.html" data-page="profile">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-user-circle" style="color: #6f42c1 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">پروفایل</span>
        </a>
      </li>
      
      <!-- Users Management -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="users.html" data-page="users">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-users" style="color: #28a745 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">مدیریت کاربران</span>
        </a>
      </li>
      
      <!-- Devices Management -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="devices.html" data-page="devices">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-server" style="color: #007bff !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">مدیریت دستگاه‌ها</span>
        </a>
      </li>
      
      <!-- Shifts Management -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="shifts.html" data-page="shifts">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-clock" style="color: #ffc107 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">مدیریت شیفت‌ها</span>
        </a>
      </li>
      
      <!-- Leaves Management -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="leaves.html" data-page="leaves">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-calendar-times" style="color: #dc3545 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">مرخصی‌ها</span>
        </a>
      </li>
      
      <!-- Calendar -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="calendar.html" data-page="calendar">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-calendar-alt" style="color: #5e72e4 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">تقویم</span>
        </a>
      </li>
      
      <!-- Reports -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="reports.html" data-page="reports">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-chart-bar" style="color: #6f42c1 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">گزارشات</span>
        </a>
      </li>
      
      <!-- Notifications -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="notifications.html" data-page="notifications">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-bell" style="color: #fd7e14 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">اعلان‌ها</span>
        </a>
      </li>
      
      <!-- Salaries -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="salaries.html" data-page="salaries">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-money-bill-wave" style="color: #20c997 !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">گزارش حقوق و دستمزد</span>
        </a>
      </li>
      
      <!-- Settings -->
      <li class="nav-item">
        <a class="nav-link text-dark" href="settings.html" data-page="settings">
          <div class="icon icon-shape icon-sm border-radius-md text-center ms-2 d-flex align-items-center justify-content-center">
            <i class="fas fa-cog" style="color: #6c757d !important; opacity: 1 !important; font-size: 1rem !important;"></i>
          </div>
          <span class="nav-link-text me-1">تنظیمات</span>
        </a>
      </li>
    </ul>
  </div>
  
  <!-- Subscription Levels -->
  <div class="subscription-section px-3 pb-3 mt-auto">
    <div class="subscription-header mb-2">
      <h6 class="text-uppercase text-muted mb-1">سطح اشتراک</h6>
    </div>
    <div class="btn-group w-100 gap-1" role="group" aria-label="Subscription Levels">
      <button id="set-basic" class="btn btn-outline-secondary btn-sm d-flex align-items-center justify-content-center px-2 py-2" title="سطح پایه">
        <i class="fas fa-seedling me-1"></i>
        <span class="subscription-text">پایه</span>
      </button>
      <button id="set-standard" class="btn btn-outline-warning btn-sm d-flex align-items-center justify-content-center px-2 py-2" title="سطح استاندارد">
        <i class="fas fa-star me-1"></i>
        <span class="subscription-text">استاندارد</span>
      </button>
      <button id="set-pro" class="btn btn-outline-success btn-sm d-flex align-items-center justify-content-center px-2 py-2" title="سطح حرفه‌ای">
        <i class="fas fa-gem me-1"></i>
        <span class="subscription-text">حرفه‌ای</span>
      </button>
    </div>
  </div>
  
  <!-- Quick Actions -->
  <div class="quick-actions px-3 pb-3">
    <div class="quick-actions-header mb-2">
      <h6 class="text-uppercase text-muted mb-1">عملیات سریع</h6>
    </div>
    <div class="d-grid gap-2">
      <button class="btn btn-primary btn-sm" onclick="window.location.href='profile.html'">
        <i class="fas fa-user-edit me-1"></i>
        پروفایل
      </button>
      <button class="btn btn-outline-danger btn-sm" onclick="logout()">
        <i class="fas fa-sign-out-alt me-1"></i>
        خروج
      </button>
    </div>
  </div>
</aside>

<script>
// Set active page based on current URL
document.addEventListener('DOMContentLoaded', function() {
  const currentPage = window.location.pathname.split('/').pop().replace('.html', '');
  const navLinks = document.querySelectorAll('.nav-link[data-page]');
  
  navLinks.forEach(link => {
    if (link.getAttribute('data-page') === currentPage) {
      link.classList.add('active');
    }
  });
});

// Logout function
function logout() {
  localStorage.removeItem('token');
  window.location.href = 'login.html';
}

// Subscription level buttons
document.getElementById('set-basic').addEventListener('click', function() {
  setSubscriptionLevel('basic');
});

document.getElementById('set-standard').addEventListener('click', function() {
  setSubscriptionLevel('standard');
});

document.getElementById('set-pro').addEventListener('click', function() {
  setSubscriptionLevel('pro');
});

function setSubscriptionLevel(level) {
  // Remove active class from all buttons
  document.querySelectorAll('.btn-group .btn').forEach(btn => {
    btn.classList.remove('active');
  });
  
  // Add active class to clicked button
  event.target.closest('.btn').classList.add('active');
  
  // Store subscription level
  localStorage.setItem('subscriptionLevel', level);
  
  // Show notification
  showNotification(`سطح اشتراک به ${level} تغییر یافت`, 'success');
}

function showNotification(message, type = 'info') {
  // Create notification element
  const notification = document.createElement('div');
  notification.className = `alert alert-${type} alert-dismissible fade show position-fixed`;
  notification.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
  notification.innerHTML = `
    ${message}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  `;
  
  document.body.appendChild(notification);
  
  // Auto remove after 3 seconds
  setTimeout(() => {
    if (notification.parentNode) {
      notification.remove();
    }
  }, 3000);
}
</script>

<!-- Add this to your HTML head for FontAwesome icons to work reliably -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> 